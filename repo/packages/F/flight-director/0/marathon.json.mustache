{
  "id": "{{service.name}}",
  "cpus": {{service.cpus}},
  "mem": {{service.mem}},
  "instances": 1,
  "env": {
    "FD_API_SERVER_PORT": "{{flight-director.fd-api-service-port}}",
    "FD_LOG_MARATHON_API_CALLS": "{{flight-director.fd-log-marathon-api-calls}}",
    "FD_DB_ENGINE": "{{flight-director.fd-db-engine}}",
    "FD_DB_PATH": "{{flight-director.fd-db-path}}",
    "FD_DB_USERNAME": "{{flight-director.fd-db-username}}",
    "FD_DB_PASSWORD": "{{flight-director.fd-db-password}}",
    "FD_DB_DATABASE": "{{flight-director.fd-db-database}}",
    "FD_DOCKERCFG_LOCATION": "{{flight-director.fd-dockercfg-location}}",
    "FD_DRAIN_CONTAINER_TIME": {{flight-director.fd-drain-container-time}},
    "FD_MARATHON_MASTER_PROTOCOL": "{{flight-director.fd-marathon-master-protocol}}",
    "FD_MARATHON_MASTER": "{{flight-director.fd-marathon-master}}",
    "FD_CHRONOS_MASTER_PROTOCOL": "{{flight-director.fd-chronos-master-protocol}}",
    "FD_CHRONOS_MASTER": "{{flight-director.fd-chronos-master}}",
    "FD_MESOS_MASTER_PROTOCOL": "{{flight-director.fd-mesos-master-protocol}}",
    "FD_MESOS_MASTER": "{{flight-director.fd-mesos-master}}",
    "FD_MARATHON_USER": "{{flight-director.fd-marathon-user}}",
    "FD_MARATHON_PASSWORD": "{{flight-director.fd-marathon-password}}",
    "FD_EVENT_INTERFACES": "{{flight-director.fd-event-interfaces}}",
    "FD_EVENT_PORT": "{{flight-director.fd-event-port}}",
    "FD_KV_SERVER": "{{flight-director.fd-kv-server}}",
    "FD_KV_USERNAME": "{{flight-director.fd-kv-username}}",
    "FD_KV_PASSWORD": "{{flight-director.fd-kv-password}}",
    "FD_FIXTURES": "{{flight-director.fd-fixtures}}",
    "FD_DEBUG": "{{flight-director.fd-debug}}",
    "AUTHORIZER_TYPE": "{{flight-director.authorizer-type}}",
    "FD_ALLOW_MARATHON_UNVERIFIED_TLS": "{{flight-director.fd-allow-marathon-unverified-tls}}",
    "FD_PROXY_PORT_RANGE": "{{flight-director.fd-proxy-port-range}}",
    "FD_IAMROLE_LABEL": "{{flight-director.fd-iamrole-label}}",
    "FD_AIRLOCK_PUBLIC_KEY": "{{flight-director.fd-airlock-public-key}}"
  },
  "ports": [{{flight-director.fd-api-service-port}}, {{flight-director.fd-api-service-port}}],
  "container": {
    "type": "DOCKER",
    "docker": {
    {{#advanced.docker-image}}
      "image": "{{advanced.docker-image}}",
    {{/advanced.docker-iamge}}
    {{^advanced.docker-image}}
      "image": "{{resource.assets.container.docker.4fd45e0f4398}}",
    {{/advanced.docker-image}}
      "network": "HOST"
    }
  },
  "healthChecks": [
    {
      "path": "/v1/about",
      "portIndex": 0,
      "protocol": "HTTP",
      "gracePeriodSeconds": 15,
      "intervalSeconds": 30,
      "timeoutSeconds": 10,
      "maxConsecutiveFailures": 3
    }
  ],
  "labels": {
    "DCOS_PACKAGE_FRAMEWORK_NAME": "{{service.name}}"
  }
}
